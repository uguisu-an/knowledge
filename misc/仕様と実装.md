# 仕様と実装

実装を知らないと使えないのは設計として失敗している。

実装ではなく、仕様に依存する。

テストが終わるまで「実装した」とは言えない。

テストされてないコードは実装されてないコードだ。

テストコードは実装を支援する。
先にテストを書けば、仕様を満たすまで失敗してくれる。

動作確認してない実装は完成してない。

実装して動作確認して、検証できる状態を標準的な「完成」とする。

実装してもまだ検証されてない。

実装は検証のための手段。

以下の順で作る。

1. 動くもの
2. 長く動くもの（メンテナンスしやすいもの）
3. 速く動くもの

受け入れ条件は「やること」に対して考えるので、「やらないこと」は出てこない。

仕様を詳しくしていく手順：

1. ユーザーストーリー
2. 受け入れ条件（フィーチャー＊シナリオ）
3. 受け入れテスト
4. 自動化された受け入れテスト

受け入れテストは実装の間に済ませる。
そもそも受け入れテストしていないものを「実装した」とは言わない。

テストも、実装ではなく、仕様に依存させる。

実装の都合でインタフェースを変えるべきではない。

部品を定義して、製品からは部品との境界だけを考えると複雑さを抑えられる。

仕様書には要求仕様だけを書かなければならない。
実装仕様に追従してしまうと、バグ（要求仕様と実装仕様の差分）かどうか判らなくなる。

定義されていない動作を例外として明示的に実装する。

例外を投げるのは、定義されていない動作を明示的に失敗させるため。

要求仕様と実装仕様

「要求仕様」は、受け入れテストによって定義できる。
「実装仕様」は、受け入れテストによって検証できる。

仕様が変われば、実装も変わる。

実装できない仕様は机上の空論だ。
SF は夢だが、すぐには実現できない。

実装仕様は、要求仕様を使った検査によって明らかになる。
ここで初めてバグが認識される。
