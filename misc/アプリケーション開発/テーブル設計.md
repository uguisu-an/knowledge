設定情報も適切にテーブルを分けよう。

外部キー制約も整合性のための機能なので、あえて整合性を取らないところには使わない。

handle や slug は変更される可能性があるので、id というよりは検索用の unique キーにする。

id は変更されない属性でなければならない。

データベースの設計は、データが制約の中で好き勝手に変更される前提で考える。
アプリケーションの制約をデータベース側に求めてはならない。

計算途中の情報も永続化しないとあとで不便なので、細かく記録する。

テーブル内のレコードがあまりにも多いようならテーブルは分けたほうが軽い。
少ないうちは気にしなくてもなんとかなる。

中間テーブルに関連をつけたい場合、だいたい関連のどっちかに持たせた方がいい。
例えば user と conversation の間にある conversation_user に read_message を持たせたいなら、user に持たせる。
user と conversation の間の関連が切れたら、残しておいてもいいし、明示的に削除してもいいし、どっちにしてもアプリケーションで制御する。
