# 設計

設計は、「インタフェースを考えること」だ。

要求が単純なうちは、過剰に設計しない。

「変更されやすさ」はディレクターも理解する必要がある。

変更されやすい部分は設計で隠して、置き換えられるようにする。

[システム設計入門](https://github.com/donnemartin/system-design-primer/blob/master/README-ja.md)

概要設計と詳細設計、外部設計と内部設計という枠組みは分かりづらい。定義したい。
概要設計としては、機能、ユースケース、受入テストを定義する。
外部設計としては、コントローラー、プレゼンター、ゲートウェイなどの外部インタフェースを定義する。

一つの接点（画面やエンドポイント、コマンド）に複数の操作がある。

依存関係の向きはできれば単方向に制限するべき。
双方向の呼び出しがあると複雑になりやすい。

構造を考えるのと境界を考えるのは一緒にしないといけない。
構造には複数の要素があって、それらの境界を考える。

設計は境界を考えること全部なので、かなり一般的に用いる。

設計は意味が広すぎるので、何と何の境界を考えるかでだいぶ違う。

「境界を明らかにする」のが「分かる」ということ。
ただし、問題を解決するのに役立つ構造であるべき。

https://masuda220.hatenablog.com/entry/2020/06/26/182317

一緒に使うものは近くに置く。
一緒に使わないものは遠くに置く。

きっちり分けられて再利用可能なコンポーネントがモジュール。
特に「交換可能性」がポイント。

モジュラーでないアーキテクチャをインテグラル型と呼ぶ。
