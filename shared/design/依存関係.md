# 依存

相手から影響を受ける場合、「依存する」という。

設計と実装はできるだけ切り離す。

設計はできるだけ実装に依存しない方がいい。

設計の中でも要素と要素の間に依存関係があると、変更の影響を受けやすい。
あえて依存関係を持たせて影響を伝播させる方法もある。

双方向の依存関係より、単方向の依存関係の方が扱いやすい。
レイヤーを分けて、外のレイヤーから内のレイヤーに依存する。

couplingとcohesionを考える。

依存される側を依存する側の都合で変更するべきではない。それでは依存するコンポーネントが増えるたびに変更されやすくなってしまう。
その上で、依存される側は依存する側が柔軟に使えるようなインタフェースにする。初めから依存する側に寄りすぎたインタフェースにすると、依存する側の都合で変更しないといけなくなる。
まぁ、いきなり全てに対応するのは難しいので、仕方なく変更しながら汎用的にしていくものだけど。

依存関係はない方がいいけど、あるなら単方向に抑える。双方向になると管理しきれない。

一種の抵抗や摩擦もある。
抵抗や摩擦を減らして、効率を高めることもあれば、タイヤのようにあえて摩擦を増やして滑りにくくすることもある。

依存関係が少ない、他からの影響を受けにくい部分を作って、そちらに依存する。
