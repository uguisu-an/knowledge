システムの導入や移行の際は新旧のシステムを両方走らせる期間がないとどこかで長期間停止しないといけない。

ハードウェアやミドルウェアのサポートが切れるときは移行が必要になる。

- 同じ構成のまま新環境に移行する
- 一部の既存システムを新環境に移行する
- システムを新規開発して旧環境からデータを移行する

移行の方法

- 一括移行: まとめて置き換える
- 段階的移行: 少しずつ置き換える
- 移行なし・並行運用: 並行運用して落ち着いたところで旧環境を廃止する

移行の流れ

1. 旧環境やデータの調査
2. 計画づくり
3. 手順の確認、リハーサル
4. 移行作業の実施
5. 運用開始（担当の移管や教育）

移行の対象

- ハードウェア
  - コンピュータ
  - ストレージ
- ミドルウェア
  - OSアップデート
  - ストレージ
  - データベース
- ソフトウェア
  - 新規開発
  - ソフトウェアアップデート
- データ

前提条件
対象
方法
リスク、影響、対処
リハーサルの計画
移行後のテスト方法
スケジュール
体制

移行のリスク

- 抜け漏れが発生する
- 移行できない、新旧の差異がある
- 業務の一時停止

バックアップは必ず取っておこう。
データだけでなくアプリケーションなども。
コンテナを利用しているならイメージや構成情報を残して、再度立ち上げられるようにする。

https://otafuku-lab.co/data-migration/

https://insights-jp.arcserve.com/system-migration

https://proactive.jp/resources/columns/system-migration/

データ移行はツールを作って、何度でも実行できるようにしておくと楽。
途中で手作業を挟むとしても、ツールがあって困らないように作る。

移行データは一旦生の状態でテーブルを分けて取り込んで、そこから処理すると楽。
既存のIDとのマッピングなんかもそのテーブルまたはさらにマッピングテーブルを作って構築する。

システム移行後はトレーニングとサポートが必要。ユーザーが使えるようにするところまでがシステム移行。

データが正常に移行できたかどうかテストする方法も考えておく。

【Developers Summit 2024フォローアップ】『グランブルーファンタジー』100万行を超える大規模なシステム再構築～10周年のその先へ～ | Cygames Engineers' Blog

https://tech.cygames.co.jp/archives/3614/

反映までのリードタイムが長すぎる作業があると、システム化して移行する際に長い停止期間が必要になる。

システム移行を伴う場合、そもそもシステム開発よりも先に移行計画を立てる。
移行に必要な機能も開発しなければならないことがある。

システム移行がある場合、移行のための機能やツールも開発した方がいい。
そのためには、開発の前に移行計画を立てる。

システム移行は1-2週間くらい二重に運用するくらいで考えた方がいい。一時的に負担は大きくなるけど、結局スムーズに移行できる。
