# Database

DB

企業とかで人間が使うなら Airtable でもいい。

https://www.airtable.com/

https://plat.io/ja/posts/about-airtable

データベース研修【MIXI 23 新卒技術研修】
https://speakerdeck.com/mixi_engineers/2023-database-training-01

どこでデータを取ってきて、登録するデータを作るか。
フロントエンドで作ると、ネットワークアクセスが増える場合もある。
バックエンドで作ると、フロントエンドでも取ってくるのでまとまりがなくなりがち。

表示も考えると、バックエンドで必要な値を取ってくるよりもフロントエンドから送った方がいい。
ただ、そもそもフロントエンドで表示しないといけないような値を別途取ってこないといけないのはデータの設計が変かも。

フロントエンドで表示した値をバックエンドに送った時も別途取得するとフロントエンドとずれることがある。

必要以上に情報を表示するとパフォーマンスは悪くなる。
APIからデータを取ってくるのはデータベースアクセスもネットワークアクセスもある。

フロントエンドで必要なデータを揃えてバックエンドに送ると、バックエンドはバリデーションだけでシンプルなCommandになる。
ただ、通常の流れで取れないデータを無理やり表示すると余計なネットワークアクセスが増える。

入力やコンテキストから情報を集めて統合するのはアプリケーションの役割ではある。
UIをアプリケーションと考えれば、自然に取れるデータをまとめるのはフロントエンドでいい。

APIアクセスが1件増えたら、データベースアクセスも1件増える。

フロントエンドから全部送ってると、バックエンドで関連するデータが増えるたびにフロントも改修しないといけない。

UPDATE OR INSERT = UPSERT

データベースへの接続はDNSを挟むと障害時や移行時などに切り替えやすい。

基本はリレーショナルデータベース。

考えるべきこと

- 構造、正規化
- 完全性、整合性
- 柔軟性
- オーバーヘッド、必要なストレージ容量
- 拡張性
- クエリの応答速度
