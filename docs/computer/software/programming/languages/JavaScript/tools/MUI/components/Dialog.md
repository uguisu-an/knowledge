ベースになるDialogの派生コンポーネントを受け取って、openを付与するコンポーネントを生成するHooksのアイデアがあった。

ダイアログごと分けると、ダイアログの中でモードを切り替えて別のダイアログを開くときにチラつく。openが一瞬でもfalseになるとダメみたい。

新規登録の時と編集の時でダイアログごと分けてもいいのかも。見た目は同じでも送信先が違ったり、選択肢の出し方が違ったりする。

ダイアログの制御はopen変数だけじゃなくて、selectedRowIndexの有無を使ったりしてもいい。自由。

Dialogの幅を画面幅に合わせて変えるには、useMediaQueryを明示的に使って制御しないといけない。わかりやすいのはuseMediaQueryで特定のサイズ以下のときだけfullScreenを有効にするパターン。

ダイアログはページと見なして、そのページだけで完結した方がいいかも。
その上で見た目だけをコンポーネントにして、処理と分けてもいい。

見た目は同じでも裏でやってることがちょっと違うダイアログとかそれぞれ作ってもいいけど、見た目は共通にしたい。

ダイアログは必ずしもダイアログごとのopenで制御しなくてもいい。例えば、ステータスを使って、複数のダイアログを開いたり閉じたりしながら渡り歩いていくような制御も考えられる。一つのステータスに一つのダイアログが対応する。

Dialog内のFormはopenのタイミングで初期化しないと前の状態が残る。

```js
useEffect(() => {
  if (open) {
    resetForm();
  }
}, [open, resetForm]);
```

Dialog内のFormでコンポーネントを分ける場合、openのタイミングで初期化できるようにopenを渡したり、工夫が必要。
基本的にはフラットにして、Dialogで一気に統合するのがいいと思う。

ダイアログはやっぱりページというよりは表示を切り替えられるフォームとして捉えた方がいいかも。

ダイアログの形のフォームとしてまとめたほうが綺麗ではある。
