# Software Testing Automation

テストを書くのは速度のため。
品質を高めるのは実装の能力とイテレーションでしかない。

テストは品質を高めないが、テストを書いて速度を高めないと品質を高められない。

テストの自動化までの道のり

テストする
テストを残す（繰り返せるようにする）
テストケースを減らす（実行時間を短くする）
テストを機械に任せる（実行処理を速くする）

全てのテストを自動化できるわけではない。

テストを自動化できないと、素早くリリースできるようにはならない。

テストを自動化できるかどうかとテストできるかどうかは別。

テストコードの前にE2Eテストを用意したりリファクタリングしたりするのが大変。

プルリクエストのテストカバレッジは9割以上にする。

そもそもプロダクトコードを書くのが下手だとテストコードも書きにくい。コードによってテストの書きやすさがある。

テストしやすいコードは使いやすいコードになりやすい。

ブラウザテストの自動化ツール

- Selenium
- Cypress
- Playwright
- Puppeteer

Seleniumはテスト用というよりもブラウザの操作の自動化だけど、テストにも使われる。

「テスト可能なコードを書くにはテストファーストが最も有効というよりは、そうでもしないとテストは書けない、というのが現実的なところです。」
https://gihyo.jp/article/2024/01/automated-test-and-tdd

結局、単体テストも結合テストも大体自動化して負荷を減らさないと頻度が落ちる。動かしてみてから不具合に気づくことが増える。

単体のテストコードはプロダクトコードの近くに置いたほうがいい。
`tests/xxx.test.js`のようにテストコードのフォルダを用意するよりは、`xxx.js`と同じフォルダに`xxx.test.js`を置く。結局、変更するときに一緒に変更するものなので近いほうがいい。

モジュールを跨いだりDBにアクセスしたりする機能テストはフォルダを分けたほうがいい。
ただ、機能としてのまとまりをUseCaseモジュールにして、その隣に置く手もある。
