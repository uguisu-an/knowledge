# ソフトウェアの移植 Porting

「移植」は、同じ仕様で、新しく実装している。
既存の仕様があるので、仕様をきっちり洗い出さないといけないが、それ以降は単に新しく実装するのと変わらない。
受託する場合は、仕様を洗い出した上で合意する。仕様が間違っていた場合は発注漏れで顧客の責任にしないといけない。

DB の移行を伴うと大変。
既存のデータを新しい構造にどう紐づけるのか計画しないといけない。

リニューアルするときは、UI、API、DB のできるだけ小さい範囲だけ変更する。
あとそれぞれのレイヤーを分離して、隣より先に依存しないようにする。実装に依存しない。

移植版を作るときは、旧版が組み込みのシリアライズを使っていると既存のデータと新しく別の環境で作るデータが一致しないこともある。
既存のデータを破棄するのか、なんらかのマイグレーションを行うかで作業が違うので、発注の段階で確認しておかなければならない。

API を整理する時は、新旧の対応表を作るといい。
