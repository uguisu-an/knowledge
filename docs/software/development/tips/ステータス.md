# ステータス

ステータスは状態や属性の一つと考えられる。

state と違って、ステータスは外から付けるもの。格付け。
ステータスも含めた様々な属性の変化の結果が状態。

ステータスを数値で扱うのはデータベース上だけで、それ以外の API や内部コードでは文字列の方がいい。
また、データベース上でも文字列でもべつにいい。

レコードやページ全体の状態をステータスにまとめると、どの状態にあるか分かりやすくなる。
判定を１箇所にまとめるか、正しく状態遷移させる。

ページ全体のステータスと、フォームを送信できるかどうかのような細かいポリシーは分けた方がいい。
ステータスはあくまでも状態で、ポリシーとは別。

複数のパラメータが影響するなら、一つのステータスにまとめて扱うべき。
特定の条件を満たしたら次のステータスに進む。
パラメータを判定してステータスに置き換えるというよりは、パラメータはステータスの遷移に使って、あとは設定されたステータスに従う。
テストする時もステータスだけ変えればいい。ただ、バリデーションとは別。

人間は複雑なパラメータを扱えるようにできてない。
