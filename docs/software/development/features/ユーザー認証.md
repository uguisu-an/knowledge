認証・認可のサービスと事業の本体のサービスは文脈を分けて考える。

本体のサービスには「口座 Account」を作って、ユーザー＝ログイン情報を持つオブジェクトの ID と紐付けるといい。
そうすると、マイクロサービスで分けても動く。

ユーザー認証はログイン情報や連絡先のようなユーザーの情報を持つ。

例えば、チャットのシステムがあったとすると、チャットのメッセージはアカウントに紐づけて、ユーザーとは直接紐付けない。
アカウントは複数持てるけど、その持ち主になるユーザーはひとりにするのがわかりやすい。
どのアカウントの通知も同じユーザーに飛ばすし、ログインも共通。アカウントを選ぶ。

アカウントを選ぶ必要がなかったら、1:1 で繋いで、ユーザーが決まった時点でアカウントも確定させればいい。

アカウントを特定したいときはユーザーの ID ではなくアカウントの ID が必要。

Notion のワークスペースなんかも、ノートを格納するアカウントとして捉えられる。

事業のサービスで持つのは口座の持ち主が誰かという情報だけ。ログイン情報とかは知らない。

ただ、ごく小さなシステムだったらアカウントとユーザーを混ぜて、ユーザーに直接紐付けてもいいっちゃいい。

アカウントを消したり変更したりするには、その持ち主にまず通知して何も連絡が返ってこなかったら削除するような流れがあると親切。
