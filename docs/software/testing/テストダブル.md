# テストダブル

ダブルはいわゆる「替え玉」や「身代わり」のこと。

5 つの種類が定義されている。

- mock
- stub
- spy
- fake
- dummy

## モック

製品の一部または全体を仮の実装で置き換える。

本格的な実装の前のユーザーインタビューや外部サービスを除いた単体テストなどに使う。

モックにしなくても動かせるところはモックにしない。
「モックをできる限り減らす」のが大前提。

モックで置き換えた部分はテストされない。
テストされなくていい部分だけをモックにする。
モックにするのは主にアプリケーションの外。外部インタフェースのアダプターに当たるところ。

複数のサービスを利用するアクションの場合も、内部のサービスはモックしない。
サービスをモックしてそれぞれのサービスを個別にテストするよりも、上から通してテストする大きなテストがあった方がいい。
