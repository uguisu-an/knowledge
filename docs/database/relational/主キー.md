主キーが意味を持つべきではない。
全ての主キーはサロゲートキーであるべき。
複合主キーでも同じ。

意味のある主キーは変化に弱い。

例えば、年度を主キーにするような作りにするのではなく、単にユニーク制約のある一つの項目にする。

意味のあるidは主キーとは別にcodeやslugとしてつける。主キーでないユニークな項目にする。

Sequenceは最大値を記録しているテーブルとの整合性を取らないといけない。
通し番号のidは通し番号を生成しているテーブルがボトルネックになる。
どうしてもトランザクションが必要。

UUIDはSequenceよりも簡単にidを指定して保存できる。

PKは一つにできるなら一つでいい。
複合キーはできるだけ避ける。

複合キーを使うのは、意味のある値が主キーになる場合。
マッピングテーブルとかよく使う。
一時的に使うだけのテーブルなんかも値が変わることはないので単純にするためによく使う。

主キーが一つなら自動生成にした方がいい。
意味のある値というか、変更される可能性が少しでもある値を主キーにしない。

変更される可能性がある値を主キーにしてしまうと、値が変わった場合に外部キーとして参照しているテーブルも変えないといけなくなる。

複合キーも「相対的な値」になりやすいので、単独キーに比べると変更される可能性が高い。
例えば、以下のようなテーブルがあったとすると、nodeが別のsystemに移動したり、区分けを変えたりすると値を変えないといけなくなる。
PKがidだけなら、system_idは単なる外部キーにすればいい。

| system_id PK | system_node_id PK | name      |
| ------------ | ----------------- | --------- |
| 001          | 001               | ノード1-1 |
| 001          | 002               | ノード1-2 |
| 002          | 001               | ノード2-1 |

BIGINTは8バイト、VARCHAR(32)は32バイトなので、データ的にはUUIDより通し番号の方が軽い。
