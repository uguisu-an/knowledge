- どのようにクエリが実行されるか
- どのインデックスが使用されるか
- どのような順序でテーブルを結合するか

部分一致は重い。

部分一致は前方一致だけインデックスを使える。

部分一致を高速に処理するには、別のカラムやレコードに検索キーワードを作ってそちらにインデックスを貼るとか工夫が必要。

インデックスがあっても、クエリによっては使用されない場合がある。

複数カラムの索引を使う場合、順序も影響する。
例えば、(a, b, c)というインデックスがあったら、検索が(a)や(a,b)なら速くなるけど、(b)は速くならない。

インデックスを使う基準:

- WHERE, ORDER, GROUP, JOINを頻繁に使うカラム

インデックスをあえて使わない例外:

- 件数が少ない
- 重複が多いカラム
- 頻繁に更新されるカラム

カラムにNULLを許容する場合、NULLになる行が多いのは重複が多いのと同じ。
インデックスがあっても効率的に絞り込めないことがある。

結合は主にハッシュ結合とネストループ結合がある。

## References

- https://qiita.com/SimonLee/items/a878f721975370b45883
