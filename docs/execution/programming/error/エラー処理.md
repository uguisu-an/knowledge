エラーが出てもプログラムを停止せずに続行すること。

エラーを握りつぶして無理やり続行するべきではない。
少なくともログを残したり、ユーザーにエラーがあったことを通知した方がいい。
あるいは成功するまで再試行するのも一つの手。

エラー処理の種類:

1. 呼び出した側に任せる
2. ログを残す
3. リトライする
4. 意図的に無視する（強制停止する）

エラー処理は呼び出し側の責任。
下流で複雑なエラー処理をはじめから持っておくのはアンチパターン。

通常はエラー処理のデフォルトが決まっていて、プログラムを停止する。

画面側でアプリケーションのエラーとは別のエラーを出したり、アプリケーションのエラーを構造化してリッチに表示したりするなら、アプリケーション側もエラーを構造化しないといけない。
たとえば、エラーコードを持たせるとか、どこのどの部分で出たエラーなのかMapのような構造で整理するとか。

エラーはできるだけ早く出す。早く止める。そうすれば、ユーザーもデベロッパーも早く直せる。

エラー処理の手順

1. 例外を定める (throw)
2. 例外時でも必要な終了処理を続ける (dispose)
3. ユーザーに返す動作を規定して例外ではなくす (catch)

2 までは必要。3 は任意。

エラーを拾うのはユーザーの利便性のためで、必須ではない。

処理を止めるべきところでは、エラーで処理を止めるのが正常。

定義されていないのにたまたま成功として扱われていたら、むしろ例外として落とさないといけない。

成功した時と失敗した時で外から区別できるようなインタフェースにする。
try-catch して例外を捨てるのが問題なのは、失敗しても区別できないから。

エラーを拾う前に、そもそも発生させない方がいい。
バリデーションエラーだったら、そもそも入力させない。
Not Found だったら、そもそも先に存在を確認する。

エラーとは、期待される正しい挙動との誤差である。

https://qiita.com/TairaNozawa/items/8788c4b20c60046ee80c

エラーは復旧するもの。誤差を埋める。

エラーはそもそも発生する前に対処する。

エラーはできるだけ拾った方がいいけど、ランタイムエラーのようにどうしようもないエラーもある。
しかし、システム側で再試行したり、ユーザーに再入力を促したりして正常系に戻せるなら戻す。

Railway Oriented Programmingというエラーハンドリングの手法の紹介記事
https://buildersbox.corp-sansan.com/entry/2024/03/26/110000

どんなエラーにどんな対応をしたか残しておくと後で使える。

エラーについては、以下の3段階がある。

1. 止まらない（ゴミを出力する）
2. エラーで正しく止まる
3. できるだけ早く（エラーの発生箇所よりも前に）止まって、ユーザーにフィードバックする

データが抜けている場合でも、処理の途中で正しく止まれば問題ない。その時点で入力を促せばいい。
その上で、ユーザーへのフィードバックが早いほど良い。プラスアルファの部分。

正しく動く前に、正しく止まるべき。
止まるべきなのに動いてしまうのが一番よくない。
例えば、木材を切断する機械に腕を挟まれたら止まらないと腕がなくなる。
