# 設計

設計は、「インタフェースを考えること」だ。

要求が単純なうちは、過剰に設計しない。

「変更されやすさ」はディレクターも理解する必要がある。

変更されやすい部分は設計で隠して、置き換えられるようにする。

一つの接点（画面やエンドポイント、コマンド）に複数の操作がある。

依存関係の向きはできれば単方向に制限するべき。
双方向の呼び出しがあると複雑になりやすい。

構造を考えるのと境界を考えるのは一緒にしないといけない。
構造には複数の要素があって、それらの境界を考える。

設計は境界を考えること全部なので、かなり一般的に用いる。

設計は意味が広すぎるので、何と何の境界を考えるかでだいぶ違う。

「境界を明らかにする」のが「分かる」ということ。
ただし、問題を解決するのに役立つ構造であるべき。

https://masuda220.hatenablog.com/entry/2020/06/26/182317

一緒に使うものは近くに置く。
一緒に使わないものは遠くに置く。

きっちり分けられて再利用可能なコンポーネントがモジュール。
特に「交換可能性」がポイント。

モジュラーでないアーキテクチャをインテグラル型と呼ぶ。

インタフェースは、メッセージとプロトコルでできている。
やりとりする内容の詳細と、やりとりする方法・規格、といったところ。
実際のメッセージはあまり重要ではなくて、プロトコルを考えないといけない。

コンポーネントは、UI 要素だったり、クラスだったり、ドメインオブジェクトだったり、ユーザーだったり、システムだったり、アプリケーションだったりする。

「コンポーネント」というよりは、interface の意味での「境界」と対応して、「領域」の意味での domain とするべきかも。

デザインは表現としてのアートと混同されやすい。
しかし、デザインの本質は表現よりも解釈にある。

自らの解釈と誰かの解釈を合わせることも考える。
presentation の要素もある。

わかりやすさ、使いやすさ、触りやすさ、変更しやすさ、などを求める。

デザインはモデリングの一種。
「コンポーネントとインタフェース」という形式のモデルで捉えている。

設計はかなり抽象寄りの概念なので、いろんなとこに顔を出す。
境界があったら設計がある。

design はそもそもが「情報」に関わるものかも。
境界を引く、という性質が情報にしかない。イデアに境界はない。

インタフェースを考える時は、コミュニケーションを考えるのと同じ。
区切られたものとものとの間で情報をやり取りする。

設計を凍結した瞬間から品質は落ちていく。ユーザーの要求と離れていく。

どんなに優れたインタフェースでも、中身が伴わなければ接続する意味もない。

知識や情報を「どこに置くか」を考えるのは設計だ。
