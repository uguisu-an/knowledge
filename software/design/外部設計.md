通知などはどっちみち整合性が取れないので、「処理中」のステータスをうまく使う。
何らかの理由で処理中に失敗したら処理中のままになって、できればエラーが残るといい。

自分がメールを受け取る場合、「再送する」機能がないと失敗した時に困る。

Redo や Retry はいろんなとこで応用できる。

外部設計では「規格」を作るのが重要。
他のサービスと連携して一つのシステムを構成するので、その接点を決めておかないとそれぞれ独立して進められない。

[システム設計入門](https://github.com/donnemartin/system-design-primer/blob/master/README-ja.md)

概要設計と詳細設計、外部設計と内部設計という枠組みは分かりづらい。定義したい。
概要設計としては、機能、ユースケース、受入テストを定義する。
外部設計としては、コントローラー、プレゼンター、ゲートウェイなどの外部インタフェースを定義する。
