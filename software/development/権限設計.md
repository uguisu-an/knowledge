# 権限設計

## 基礎

ユースケースをもとに考える。

まず、アクターからの「アクセス」とその対象としての「リソース」がある。
一つのユースケースで複数のリソースにアクセスすることがある。
どのリソースにどのアクセスを許すか定義したものを「パーミッション」という。

また、個人ごとではなく、アクターをいくつかのグループに分類する「ロール」ごとにアクセスを定義することが多い。
ロールベースアクセス制御という。

## パーミッションの整理

まず、どのユースケースでどのリソースにアクセスするのか、表にする。
ユースケースとリソースを縦横に並べて、CRUD のどの操作が行われるか整理する。
特に、リソースの列に C がないとおかしいのでユースケースを追加する必要がある。

次に、どのロールにどのリソースへのアクセスを許すか、表にする。
一つ目の表と照らし合わせて、Read/Write を割り当てる。
また、リソースだけでなく画面上の表示項目についても属性ごと、ボタンなどの操作要素ごとに整理する。
たとえば、ゲストの場合は Write できないし、編集ボタンや削除ボタンも出ない、ということがわかるように。

## その他

ロールベースアクセス制御、
強制アクセス制御、
任意アクセス制御、

[システムの権限管理を設計するときの考え方 - applis](https://applis.io/posts/how-to-manage-authorization)

[はじめよう！ 要件定義 ～ビギナーからベテランまで | 羽生章洋](https://www.amazon.co.jp/dp/B00WHUP7UE)
