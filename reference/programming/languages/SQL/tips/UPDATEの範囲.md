# UPDATE の範囲

SQL を直接叩いていると UPDATE の WHERE が効いてないバグで簡単にデータベースを破壊してしまう。

UPDATE の前に必ず入力チェックするようなライブラリを使うといい。
ActiveRecord の ORM はこの条件を満たすことが多い。

また、SELECT がバグってて UPDATE しすぎることもある。
こっちは WHERE の入力をチェックしても意味がない。
ただ、ORM でリレーションがわかりやすくなったら SELECT も安定しやすくなる。

こういう変更の範囲が広すぎる欠陥はシナリオテストしても見つけづらい。
ランダムテストやレビューで第三者が監査したり、そもそも使えないやつを雇わないのが大事。
