# 運用環境の移行規定

## 動作確認

MUST 移行前に動作確認する。

CAN 移行前に動作確認する環境は、運用環境に近いほどいい。

（ローカル環境よりは、専用の開発サーバーやステージングサーバーを用意する。）

MUST 移行後に運用環境でも動作確認する。

## ソースコードの管理

MUST メインブランチ以外のソースコードを運用環境に移行してはならない。

（移行前に開発中のブランチをメインブランチにマージする。）

MUST 運用環境のソースコードを直接書き換えてはならない。

（環境ごとの設定は設定ファイルや環境変数を用いて設定する。）

## バージョンの更新

MUST メジャー、マイナーバージョンを更新するなら、移行前に更新する。

-   ファイルのバージョンを書き換える。
-   `package.json`や`composer.json`などがなければ`VERSION`を用意する。
-   メインリポジトリにタグをつける。（github ならリリースを使う）
-   バージョンの命名規則は [semver](https://semver.org/lang/ja/) に従う。

## 通知

MUST 環境を更新したら関係者に知らせる。
