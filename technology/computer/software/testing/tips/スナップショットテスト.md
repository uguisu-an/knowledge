変更の前後で見た目が変わっていないことをテストする。

スナップショットは目で確認して正常かどうか判断する。

スナップショットが違ったら、目で確認して、正しい方を真とする。

スクリーンショットテスト、Visual Regression Testとも。

ブラウザの場合はPlaywrightのtoHaveScreenshot()で実装するのが簡単。Seleniumは自前で持ってない。
ただ、画面全体の場合はデータによって変わってしまうので、データベースも含めてローカルで実行できないと厳しい。

コンポーネント単位ならStorybookにも同じ機能がある。

見た目が正しく変更された場合はエラーになるので、どこかのタイミングでスナップショットを更新することになる。
その場合、次のような手順になる。

1. テストを実行する
2. 変更されるべき箇所でしかエラーになっていないことを確認する
3. スナップショットを更新する

本来変更されない箇所でエラーが起きているのに更新してしまうとテストが通ってしまうので注意。
